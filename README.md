1) Оформить работу с внешними ролями с использование ansible-galaxy
(! Если вы писали роли сами или как-то кастомизировали чужие - то делать ничего не надо :) )
- добавить в ansible.cfg role_path
- добавить указанный role_path в .gitignore
- написать скрипт по установке внешних ролей (bash-скрипт, вызывать ansible-galaxy)
- удалить из репозитория уже имеющиеся внешние роли
2) добавить yamllint конфиг и ansible-lint конфиг, выбран нужные вам правила.
2.1) Добавить скрипт валидации (запуска линтеров)
3) В плейбуке проверки жизнеспособности сервисов где удастся использовать delegate_to
4) В тасках создание пользователя добавить указание no_log для скрытия чувствительных данных
